"use strict";(self.webpackChunkgrafana_metricsdrilldown_app=self.webpackChunkgrafana_metricsdrilldown_app||[]).push([[131],{78189(e,t,n){n.d(t,{BR:()=>c,Hi:()=>i,KF:()=>r});var a=n(85959);const r=(0,n(37457).ef)(),c=(0,a.createContext)({trail:r});function i(){return(0,a.useContext)(c)}},72430(e,t,n){n.d(t,{E:()=>u});var a=n(46089),r=n(38821),c=n(82007),i=n(85959),l=n.n(i),o=n(81159),s=n(42432),m=n(31414);function u({error:e}){const t=(0,c.useStyles2)(d),n=(0,o.useNavigate)(),{pathname:a,search:u}=(0,o.useLocation)(),p=(0,i.useCallback)(()=>{const e=new URLSearchParams(u),t=new URLSearchParams;["from","to","timezone"].filter(t=>e.has(t)).forEach(n=>t.set(n,e.get(n))),n({pathname:a,search:t.toString()}),window.location.reload()},[n,a,u]),[g,f]=(0,i.useState)(!1);return l().createElement("div",{className:t.container},l().createElement(s.C,null),l().createElement(m._,{severity:"error",title:(0,r.t)("error-view.title","Fatal error!"),error:e,errorContext:{handheldBy:"React error boundary"},message:l().createElement(l().Fragment,null,l().createElement("p",{className:t.message},l().createElement(r.x6,{i18nKey:"error-view.message"},"Please"," ",l().createElement(c.TextLink,{href:"#",onClick:p},"try reloading the page")," ","or, if the problem persists, contact your organization admin. Sorry for the inconvenience.")),l().createElement("p",null,l().createElement(c.Collapse,{className:t.callStack,label:(0,r.t)("error-view.stack-trace-label","View stack trace"),isOpen:g,onToggle:()=>f(!g)},l().createElement("pre",null,l().createElement("code",null,e.stack)))))}))}function d(e){return{container:(0,a.css)({position:"relative",margin:e.spacing(2)}),message:(0,a.css)({margin:e.spacing(2,0,1,0)}),callStack:(0,a.css)({backgroundColor:"transparent",border:"0 none","& button":(0,a.css)({paddingLeft:e.spacing(1.5)}),"& button:focus":(0,a.css)({outline:"none",boxShadow:"none"}),"& button > svg":(0,a.css)({marginLeft:e.spacing(-2),marginRight:e.spacing(.5)}),'& [class$="collapse__loader"]':(0,a.css)({display:"none"})})}}},42432(e,t,n){n.d(t,{C:()=>s});var a=n(46089),r=n(82007),c=n(85959),i=n.n(c),l=n(53553),o=n(75366);function s(){const e=(0,r.useStyles2)(m);return i().createElement("div",{className:e.container},i().createElement(r.Stack,{direction:"row",gap:1,alignItems:"center"},i().createElement(l.l,{className:e.feedbackStatic}),i().createElement(o.U,null)))}function m(e){return{container:(0,a.css)({position:"absolute",top:e.spacing(2),right:e.spacing(2),zIndex:e.zIndex.dropdown}),feedbackStatic:(0,a.css)({position:"static"})}}},51581(e,t,n){n.d(t,{S:()=>m,X:()=>o});var a=n(85959),r=n.n(a),c=n(81159),i=n(48483),l=n(78189);const o=(0,a.lazy)(()=>n.e(437).then(n.bind(n,13437))),s=()=>{const e=(0,c.useLocation)();return r().createElement(c.Navigate,{to:`${i.b.Drilldown}${e.search}`,replace:!0})},m=()=>{const{trail:e}=(0,l.Hi)();return r().createElement(c.Routes,null,r().createElement(c.Route,{path:i.b.Drilldown,element:r().createElement(o,{trail:e})}),r().createElement(c.Route,{path:i.b.Trail,element:r().createElement(s,null)}),r().createElement(c.Route,{path:"*",element:r().createElement(c.Navigate,{to:i.b.Drilldown,replace:!0})}))}},12131(e,t,n){n.r(t),n.d(t,{default:()=>u});var a=n(85959),r=n.n(a),c=n(72430),i=n(51581),l=n(83457),o=n(24268),s=n(37457),m=n(93744);const u=({labels:e,initialStart:t,initialEnd:n,dataSource:u})=>{const[d]=(0,l.n)(),p=(0,a.useRef)(!1);(0,a.useEffect)(()=>{p.current||(p.current=!0,(0,o.z)("exposed_component_viewed",{component:"entity_metrics"}))},[]);const g=Object.entries(e).filter(([,e])=>Boolean(e)).map(([e,t])=>({key:e,operator:"=",value:String(t)})),f=(0,s.ef)({initialDS:u.uid,initialFilters:g,$timeRange:(0,m._)(t,n),embedded:!0});return r().createElement("div",{"data-testid":"metrics-drilldown-embedded-entity-metrics"},d?r().createElement(c.E,{error:d}):r().createElement(i.X,{trail:f}))}},93744(e,t,n){n.d(t,{_:()=>i});var a=n(87781),r=n(45706);function c(e){return"string"==typeof e&&a.dateMath.isMathString(e)?e:a.dateMath.toDateTime(new Date(e),{roundUp:!1}).toISOString()}function i(e,t){return new r.SceneTimeRange({from:c(e),to:c(t)})}}}]);
//# sourceMappingURL=131.js.map?_cache=65686d0920cfe48c98dd